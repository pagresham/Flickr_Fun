<!DOCTYPE html>
<html>
<head>
	<title>web tech flicker test</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<script type="text/javascript">
	var apiurl = "https://api.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key=84581076bd0125f924d6fc410596cf3a&per_page=10&format=json&nojsoncallback=1";

	$(document).ready(function(){
	function getBySize() {
		$.getJSON(apiurl,function(json){
			// console.log(json);
			$.each(json.photos.photo, function(i,myresult){
				//console.log(myresult)
				apiurl_size = "https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key=84581076bd0125f924d6fc410596cf3a&photo_id="+myresult.id+"&format=json&nojsoncallback=1";

				$.getJSON(apiurl_size,function(size){
					$.each(size.sizes.size,function(i,myresult_size){
						console.log(myresult_size)
						if(myresult_size.width==500){
							$("#results").append('<p><a href="'+myresult_size.url+'" target="_blank"><img src="'+myresult_size.source+'"/></a></p>');
						}
					})
				})
			});
		});
	}
	var apiurl2 =  "https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=873b3203f3e9b54aec9807a1c03a6e6c&tags=trout&per_page=10&page=1&format=json&nojsoncallback=1";

	var apiurl3 = "https://api.flickr.com/services/rest/?method=flickr.interestingness.getList&api_key=873b3203f3e9b54aec9807a1c03a6e6c&per_page=10&page=1&format=json&nojsoncallback=1";
	var apiurl4 = "https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=873b3203f3e9b54aec9807a1c03a6e6c&tags=beer&per_page=10&page=1&format=json&nojsoncallback=1";


	function getByTest() {
		$.getJSON(apiurl4,function(json){
			 console.log(json);
			$.each(json.photos.photo, function(i,myresult){
				console.log(myresult)
				apiurl_size = "https://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key=84581076bd0125f924d6fc410596cf3a&photo_id="+myresult.id+"&format=json&nojsoncallback=1";

				$.getJSON(apiurl_size,function(size){
					console.log(size);
					$.each(size.sizes.size,function(i,myresult_size){
						console.log(myresult_size.width)
						if(myresult_size.width==500){
							
							$("#results").append('<p><a href="'+myresult_size.url+'" target="_blank"><img src="'+myresult_size.source+'"/></a></p>');
						}
					})
				})
			});
		});
	}
		
$('#results1').click(function(){
	getBySize()
});
$('#results2').click(function(){
	getByTest()
});
});
	</script>
	<!-- 84581076bd0125f924d6fc410596cf3a -->
	
</head>
<body>
<div>this is the body</div>
<div>
	<button id="results1">Press me</button>
	<button id="results2">Press me</button>
	<div id="results"></div>
</div>
</body>
<!-- 
http://www.flickr.com/photos/tags/puppy/

https://api.flickr.com/services/rest/?method=flickr.test.echo&api_key=84581076bd0125f924d6fc410596cf3a

https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key={api_key}&tags={tag}&per_page={per_page}

https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=84581076bd0125f924d6fc410596cf3a&tags=trout&per_page=10




 -->



</html>

